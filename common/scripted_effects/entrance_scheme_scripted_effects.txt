# TODO compare elf levels
attempt_to_entrance_character = {
	$ENTRANCER$ = {
		save_scope_as = entrancer
	}

	$VICTIM$ = {
		save_scope_as = victim
	}

	duel = {
		skills = { intrigue diplomacy }
		target = scope:victim

		50 = { # Success!
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}

			modifier = {
				entrancer = { has_trait = enchantress }
				add = 30
			}

			desc = entrance_attempt.success

			save_scope_value_as = {
				name = entrance_successful
				value = yes
			}

			random_scheme = {
				limit = {
					scheme_type = entrance
					scheme_target = scope:victim
				}
				add_scheme_progress = 3
			}
		}
		50 = { # Fail!
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}

			modifier = {
				entrancer = { has_trait = enchantress }
				add = 30
			}

			modifier = {
				scope:victim = { has_trait = enchantress }
				add = 30
			}

			min = 2

			desc = entrance_attempt.failure

			save_scope_value_as = {
				name = entrance_successful
				value = yes
			}

			random_scheme = {
				limit = {
					scheme_type = entrance
					scheme_target = scope:victim
				}
				end_scheme = yes
			}
		}

	}
}